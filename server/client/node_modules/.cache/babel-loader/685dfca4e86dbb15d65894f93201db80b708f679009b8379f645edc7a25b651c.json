{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useAuth}from\"../../context/AuthContext\";import{useNavigate,Link}from\"react-router-dom\";import styled from\"styled-components\";// Declare google as a global variable for ESLint\n/* global google */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const GOOGLE_CLIENT_ID=process.env.REACT_APP_GOOGLE_CLIENT_ID||\"596079188368-2hh5360q26vpb2c4dv9tm3vv3v4jsiso.apps.googleusercontent.com\";const Login=()=>{const[formData,setFormData]=useState({email:\"\",password:\"\"});const{login,loginWithGoogle,isAuthenticated,setUser,setIsAuthenticated}=useAuth();const navigate=useNavigate();const[error,setError]=useState(null);const[isGoogleScriptLoaded,setIsGoogleScriptLoaded]=useState(false);// Redirect if already authenticated\nuseEffect(()=>{if(isAuthenticated){navigate('/dashboard');}},[isAuthenticated,navigate]);const handleGoogleResponse=async response=>{try{if(!(response!==null&&response!==void 0&&response.credential)){setError(\"Failed to get Google credentials\");return;}const googleResponse=await fetch(`${BACKEND_URL}/api/v1/auth/google/verify`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:response.credential})});const data=await googleResponse.json();if(googleResponse.ok){// Store token and user data\nlocalStorage.setItem('token',data.token);localStorage.setItem('user',JSON.stringify(data.user));// Update authentication context\nsetUser(data.user);setIsAuthenticated(true);// First redirect to homepage\nnavigate('/');// Then redirect to dashboard after a delay\nsetTimeout(()=>{navigate('/dashboard');},2000);}else{throw new Error(data.message||\"Google login failed\");}}catch(error){console.error('Google sign-in error:',error);setError(\"Google login failed. Please try again later.\");}};const handleSubmit=async e=>{e.preventDefault();setError(null);try{const response=await fetch(`${BACKEND_URL}/api/v1/auth/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:formData.email,password:formData.password})});const data=await response.json();if(response.ok){// Store token and user data\nlocalStorage.setItem('token',data.token);localStorage.setItem('user',JSON.stringify(data.user));// Update authentication context\nsetUser(data.user);setIsAuthenticated(true);// First redirect to homepage\nnavigate('/');// Then redirect to dashboard after a delay\nsetTimeout(()=>{navigate('/dashboard');},2000);}else{setError(data.message||'Invalid email or password');}}catch(err){console.error('Login error:',err);setError('Login failed. Please try again.');}};const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};useEffect(()=>{// Remove any existing Google Sign-In scripts\nconst existingScript=document.querySelector('script[src=\"https://accounts.google.com/gsi/client\"]');if(existingScript){existingScript.remove();}// Load the Google Sign-In script\nconst script=document.createElement('script');script.src=\"https://accounts.google.com/gsi/client\";script.async=true;script.defer=true;script.onload=()=>{setIsGoogleScriptLoaded(true);};document.body.appendChild(script);return()=>{var _window$google;// Cleanup\nif((_window$google=window.google)!==null&&_window$google!==void 0&&_window$google.accounts){window.google.accounts.id.cancel();}const script=document.querySelector('script[src=\"https://accounts.google.com/gsi/client\"]');if(script){script.remove();}};},[]);useEffect(()=>{var _window$google2;if(isGoogleScriptLoaded&&(_window$google2=window.google)!==null&&_window$google2!==void 0&&_window$google2.accounts){try{window.google.accounts.id.initialize({client_id:GOOGLE_CLIENT_ID,callback:handleGoogleResponse,auto_select:false,cancel_on_tap_outside:true});window.google.accounts.id.renderButton(document.getElementById(\"google-signin-button\"),{theme:\"outline\",size:\"large\",width:\"100%\",text:\"continue_with\",shape:\"rectangular\",logo_alignment:\"center\"});}catch(err){console.error(\"Error initializing Google Sign-In:\",err);setError(\"Failed to initialize Google Sign-In\");}}},[isGoogleScriptLoaded]);return/*#__PURE__*/_jsx(LoginStyled,{children:/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign in to your account\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign in\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:/*#__PURE__*/_jsx(\"span\",{children:\"OR\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"google-btn\",children:/*#__PURE__*/_jsx(\"div\",{id:\"google-signin-button\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"register-link\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]})})]})})});};const LoginStyled=styled.div`\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(252, 246, 249, 0.78);\n\n  .login-container {\n    background: white;\n    padding: 2rem;\n    border-radius: 20px;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n    width: 100%;\n    max-width: 400px;\n  }\n\n  .login-content {\n    h2 {\n      text-align: center;\n      margin-bottom: 2rem;\n      color: #222260;\n    }\n  }\n\n  .input-control {\n    margin-bottom: 1rem;\n\n    input {\n      width: 100%;\n      padding: 0.8rem;\n      border: 1px solid #ccc;\n      border-radius: 8px;\n      font-size: 1rem;\n\n      &:focus {\n        outline: none;\n        border-color: #222260;\n      }\n    }\n  }\n\n  .submit-btn {\n    button {\n      width: 100%;\n      padding: 0.8rem;\n      background: #222260;\n      color: white;\n      border: none;\n      border-radius: 8px;\n      font-size: 1rem;\n      cursor: pointer;\n      transition: all 0.3s ease;\n\n      &:hover {\n        background: #2a2a7c;\n      }\n    }\n  }\n\n  .error-message {\n    background: #ff6b6b;\n    color: white;\n    padding: 0.8rem;\n    border-radius: 8px;\n    margin-bottom: 1rem;\n    text-align: center;\n  }\n\n  .register-link {\n    text-align: center;\n    margin-top: 1rem;\n\n    a {\n      color: #222260;\n      text-decoration: none;\n\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n\n  .divider {\n    text-align: center;\n    margin: 1.5rem 0;\n    position: relative;\n\n    &::before,\n    &::after {\n      content: \"\";\n      position: absolute;\n      top: 50%;\n      width: 45%;\n      height: 1px;\n      background: #ddd;\n    }\n\n    &::before {\n      left: 0;\n    }\n\n    &::after {\n      right: 0;\n    }\n\n    span {\n      background: white;\n      padding: 0 10px;\n      color: #666;\n      font-size: 0.9rem;\n    }\n  }\n\n  .google-btn {\n    margin-bottom: 1rem;\n  }\n`;export default Login;","map":{"version":3,"names":["React","useState","useEffect","useAuth","useNavigate","Link","styled","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_API_URL","GOOGLE_CLIENT_ID","REACT_APP_GOOGLE_CLIENT_ID","Login","formData","setFormData","email","password","login","loginWithGoogle","isAuthenticated","setUser","setIsAuthenticated","navigate","error","setError","isGoogleScriptLoaded","setIsGoogleScriptLoaded","handleGoogleResponse","response","credential","googleResponse","fetch","method","headers","body","JSON","stringify","token","data","json","ok","localStorage","setItem","user","setTimeout","Error","message","console","handleSubmit","e","preventDefault","err","handleChange","target","name","value","existingScript","document","querySelector","remove","script","createElement","src","async","defer","onload","appendChild","_window$google","window","google","accounts","id","cancel","_window$google2","initialize","client_id","callback","auto_select","cancel_on_tap_outside","renderButton","getElementById","theme","size","width","text","shape","logo_alignment","LoginStyled","children","className","onSubmit","type","placeholder","onChange","required","to","div"],"sources":["C:/Users/jalle/VSC/miniproject/server/client/src/Components/Login/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\n// Declare google as a global variable for ESLint\n/* global google */\n\nconst BACKEND_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nconst GOOGLE_CLIENT_ID = process.env.REACT_APP_GOOGLE_CLIENT_ID || \"596079188368-2hh5360q26vpb2c4dv9tm3vv3v4jsiso.apps.googleusercontent.com\";\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const { login, loginWithGoogle, isAuthenticated, setUser, setIsAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  const [error, setError] = useState(null);\n  const [isGoogleScriptLoaded, setIsGoogleScriptLoaded] = useState(false);\n\n  // Redirect if already authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/dashboard');\n    }\n  }, [isAuthenticated, navigate]);\n\n  const handleGoogleResponse = async (response) => {\n    try {\n      if (!response?.credential) {\n        setError(\"Failed to get Google credentials\");\n        return;\n      }\n\n      const googleResponse = await fetch(`${BACKEND_URL}/api/v1/auth/google/verify`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ token: response.credential }),\n      });\n\n      const data = await googleResponse.json();\n\n      if (googleResponse.ok) {\n        // Store token and user data\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        \n        // Update authentication context\n        setUser(data.user);\n        setIsAuthenticated(true);\n        \n        // First redirect to homepage\n        navigate('/');\n        // Then redirect to dashboard after a delay\n        setTimeout(() => {\n          navigate('/dashboard');\n        }, 2000);\n      } else {\n        throw new Error(data.message || \"Google login failed\");\n      }\n    } catch (error) {\n      console.error('Google sign-in error:', error);\n      setError(\"Google login failed. Please try again later.\");\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(null);\n\n    try {\n      const response = await fetch(`${BACKEND_URL}/api/v1/auth/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: formData.email,\n          password: formData.password,\n        }),\n      });\n\n      const data = await response.json();\n      \n      if (response.ok) {\n        // Store token and user data\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        \n        // Update authentication context\n        setUser(data.user);\n        setIsAuthenticated(true);\n        \n        // First redirect to homepage\n        navigate('/');\n        // Then redirect to dashboard after a delay\n        setTimeout(() => {\n          navigate('/dashboard');\n        }, 2000);\n      } else {\n        setError(data.message || 'Invalid email or password');\n      }\n    } catch (err) {\n      console.error('Login error:', err);\n      setError('Login failed. Please try again.');\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    // Remove any existing Google Sign-In scripts\n    const existingScript = document.querySelector('script[src=\"https://accounts.google.com/gsi/client\"]');\n    if (existingScript) {\n      existingScript.remove();\n    }\n\n    // Load the Google Sign-In script\n    const script = document.createElement('script');\n    script.src = \"https://accounts.google.com/gsi/client\";\n    script.async = true;\n    script.defer = true;\n    script.onload = () => {\n      setIsGoogleScriptLoaded(true);\n    };\n    document.body.appendChild(script);\n\n    return () => {\n      // Cleanup\n      if (window.google?.accounts) {\n        window.google.accounts.id.cancel();\n      }\n      const script = document.querySelector('script[src=\"https://accounts.google.com/gsi/client\"]');\n      if (script) {\n        script.remove();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isGoogleScriptLoaded && window.google?.accounts) {\n      try {\n        window.google.accounts.id.initialize({\n          client_id: GOOGLE_CLIENT_ID,\n          callback: handleGoogleResponse,\n          auto_select: false,\n          cancel_on_tap_outside: true,\n        });\n\n        window.google.accounts.id.renderButton(\n          document.getElementById(\"google-signin-button\"),\n          { \n            theme: \"outline\", \n            size: \"large\",\n            width: \"100%\",\n            text: \"continue_with\",\n            shape: \"rectangular\",\n            logo_alignment: \"center\"\n          }\n        );\n      } catch (err) {\n        console.error(\"Error initializing Google Sign-In:\", err);\n        setError(\"Failed to initialize Google Sign-In\");\n      }\n    }\n  }, [isGoogleScriptLoaded]);\n\n  return (\n    <LoginStyled>\n      <div className=\"login-container\">\n        <div className=\"login-content\">\n          <h2>Sign in to your account</h2>\n          {error && (\n            <div className=\"error-message\">\n              {error}\n            </div>\n          )}\n          <form onSubmit={handleSubmit}>\n            <div className=\"input-control\">\n              <input\n                type=\"email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                value={formData.email}\n                onChange={handleChange}\n                required\n              />\n            </div>\n            <div className=\"input-control\">\n              <input\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                value={formData.password}\n                onChange={handleChange}\n                required\n              />\n            </div>\n            <div className=\"submit-btn\">\n              <button type=\"submit\">Sign in</button>\n            </div>\n          </form>\n          <div className=\"divider\">\n            <span>OR</span>\n          </div>\n          <div className=\"google-btn\">\n            <div id=\"google-signin-button\"></div>\n          </div>\n          <div className=\"register-link\">\n            <p>\n              Don't have an account? <Link to=\"/register\">Register</Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </LoginStyled>\n  );\n};\n\nconst LoginStyled = styled.div`\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(252, 246, 249, 0.78);\n\n  .login-container {\n    background: white;\n    padding: 2rem;\n    border-radius: 20px;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n    width: 100%;\n    max-width: 400px;\n  }\n\n  .login-content {\n    h2 {\n      text-align: center;\n      margin-bottom: 2rem;\n      color: #222260;\n    }\n  }\n\n  .input-control {\n    margin-bottom: 1rem;\n\n    input {\n      width: 100%;\n      padding: 0.8rem;\n      border: 1px solid #ccc;\n      border-radius: 8px;\n      font-size: 1rem;\n\n      &:focus {\n        outline: none;\n        border-color: #222260;\n      }\n    }\n  }\n\n  .submit-btn {\n    button {\n      width: 100%;\n      padding: 0.8rem;\n      background: #222260;\n      color: white;\n      border: none;\n      border-radius: 8px;\n      font-size: 1rem;\n      cursor: pointer;\n      transition: all 0.3s ease;\n\n      &:hover {\n        background: #2a2a7c;\n      }\n    }\n  }\n\n  .error-message {\n    background: #ff6b6b;\n    color: white;\n    padding: 0.8rem;\n    border-radius: 8px;\n    margin-bottom: 1rem;\n    text-align: center;\n  }\n\n  .register-link {\n    text-align: center;\n    margin-top: 1rem;\n\n    a {\n      color: #222260;\n      text-decoration: none;\n\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n\n  .divider {\n    text-align: center;\n    margin: 1.5rem 0;\n    position: relative;\n\n    &::before,\n    &::after {\n      content: \"\";\n      position: absolute;\n      top: 50%;\n      width: 45%;\n      height: 1px;\n      background: #ddd;\n    }\n\n    &::before {\n      left: 0;\n    }\n\n    &::after {\n      right: 0;\n    }\n\n    span {\n      background: white;\n      padding: 0 10px;\n      color: #666;\n      font-size: 0.9rem;\n    }\n  }\n\n  .google-btn {\n    margin-bottom: 1rem;\n  }\n`;\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}